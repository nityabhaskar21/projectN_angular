<header class="display-4 text-center mb-1">SignUp</header>

<div [hidden]="!msg" class="alert alert-success">{{msg}}</div>
<form #frm="ngForm" class="container" (ngSubmit)="addUser()">
  <div class="row">
    <div class="col-4 form-group">
      <label for="username">UserName</label>
      <input [(ngModel)]="user.username" #username="ngModel" name="txtusername" type="text" id="username"
        class="form-control" required minlength="3" maxlength="20" pattern="[0-9a-zA-Z_ ]*" autocomplete="off">
      <div class="alert alert-danger" *ngIf="username.touched && !username.valid">
        <div *ngIf="username.errors.required">UserName is required.</div>
        <div *ngIf="username.errors.minlength">UserName must be atleast 3 characters long.</div>
        <div *ngIf="username.errors.maxlength">UserName must be maximum 20 characters long.</div>
        <div *ngIf="username.errors.pattern">UserName must not contain special characters.</div>
      </div>
    </div>

    <div class="col-4 form-group">
      <label for="password">Password</label>
      <input [(ngModel)]="user.password" #password="ngModel" name="txtpassword" type="password" id="password"
        class="form-control" required minlength="8" maxlength="20" autocomplete="off">
      <div class="alert alert-danger" *ngIf="password.touched && !password.valid">
        <div *ngIf="password.errors.required">Password is required.</div>
        <div *ngIf="password.errors.minlength">Password must be atleast 8 characters long.</div>
        <div *ngIf="password.errors.maxlength">Password must be maximum 20 characters long.</div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-8 form-group">
      <label for="firstname">First Name</label>
      <input [(ngModel)]="user.firstname" #firstname="ngModel" name="txtfirstname" type="text" id="firstname"
        class="form-control" required minlength="3" maxlength="30" pattern="[0-9a-zA-Z_ .]*" autocomplete="off">
      <div class="alert alert-danger" *ngIf="firstname.touched && !firstname.valid">
        <div *ngIf="firstname.errors.required">First Name is required.</div>
        <div *ngIf="firstname.errors.minlength">First Name must be atleast 3 characters long.</div>
        <div *ngIf="firstname.errors.maxlength">First Name must be maximum 30 characters long.</div>
        <div *ngIf="firstname.errors.pattern">First Name must not contain special characters.</div>
      </div>
    </div>

    <div class="col-8 form-group">
      <label for="lastname">Last Name</label>
      <input [(ngModel)]="user.lastname" #lastname="ngModel" name="txtlastname" type="text" id="lastname"
        class="form-control" required minlength="3" maxlength="30" pattern="[0-9a-zA-Z_ .]*" autocomplete="off">
      <div class="alert alert-danger" *ngIf="lastname.touched && !lastname.valid">
        <div *ngIf="lastname.errors.required">Last Name is required.</div>
        <div *ngIf="lastname.errors.minlength">Last Name must be atleast 3 characters long.</div>
        <div *ngIf="lastname.errors.maxlength">Last Name must be maximum 30 characters long.</div>
        <div *ngIf="lastname.errors.pattern">Last Name must not contain special characters.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input [(ngModel)]="user.email" #email="ngModel" name="txtemail" type="email" id="email" class="form-control"
        required minlength="5"
        pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"
        autocomplete="off">
      <div class="alert alert-danger" *ngIf="email.touched && !email.valid">
        <div *ngIf="email.errors.required">Email is required.</div>
        <div *ngIf="email.errors.minlength">Email must be atleast 5 characters long.</div>
        <div *ngIf="email.errors.pattern">Email is invalid. Email must be in a@b.c format.</div>
      </div>
    </div>
  </div>

  <div class="row align-items-center my-3">
    <div class="col-8 form-group">
      <label for="about">About</label>
      <input [(ngModel)]="user.about" #about="ngModel" name="txtabout" type="text" id="about" class="form-control"
        required minlength="3" maxlength="100" pattern="[0-9a-zA-Z_ .]*" autocomplete="off">
      <div class="alert alert-danger" *ngIf="about.touched && !about.valid">
        <div *ngIf="lastname.errors.required">About is required.</div>
        <div *ngIf="lastname.errors.minlength">About must be atleast 3 characters long.</div>
        <div *ngIf="lastname.errors.maxlength">About must be maximum 100 characters long.</div>
        <div *ngIf="lastname.errors.pattern">About must not contain special characters.</div>
      </div>
    </div>

  </div>
  <button class="btn btn-primary" [disabled]="!frm.valid">SignUp</button>
</form>
